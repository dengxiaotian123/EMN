nohup: 忽略输入
starting loading data
2018-11-18 17:24:21
finish loading data
2018-11-18 17:27:04
batch_num 25000
configurations {'keep_prob': 0.9, 'data_path': '../../data/douban/data.pkl', 'word_layers_itg': 4, 'evaluate_step': 25000, 'filter_size': 3, 'filter_h': 3, 'train_steps': 150000, 'emb_train': False, 'CPU': '/cpu:0', 'embedding_file': '../../data/douban/word_embedding.pkl', 'hidden_embedding_dim': 200, 'epoch': 6, 'print_step': 2500, 'save_path': 'Gcnn_v3_test/version2/', 'word_layers_enc': 2, '_EOS_': 1, 'word_embedding_dim': 200, 'batch_size': 40, 'max_turn_num': 9, 'final_n_class': 1, 'word_layers_agg': 2, 'max_turn_len': 50, 'output_path': 'Gcnn_v3_output/version2/', 'init_model': 'Gcnn_v3_model/version2/'}
2018-11-18 17:27:07.140319: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:27:07.140335: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:27:07.140339: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:27:07.140343: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:27:07.140346: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:27:07.252702: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-11-18 17:27:07.253152: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: GeForce GTX 1070
major: 6 minor: 1 memoryClockRate (GHz) 1.683
pciBusID 0000:01:00.0
Total memory: 7.92GiB
Free memory: 7.79GiB
2018-11-18 17:27:07.253165: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 
2018-11-18 17:27:07.253169: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y 
2018-11-18 17:27:07.253175: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)
starting shuffle train data
finish building train data
2018-11-18 17:28:34.104956: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 1847 get requests, put_count=1234 evicted_count=1000 eviction_rate=0.810373 and unsatisfied allocation rate=0.92745
2018-11-18 17:28:34.104990: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 100 to 110
2018-11-18 17:28:36.552309: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 1849 get requests, put_count=1343 evicted_count=1000 eviction_rate=0.744602 and unsatisfied allocation rate=0.823688
2018-11-18 17:28:36.552342: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 193 to 212
2018-11-18 17:28:39.049522: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 1850 get requests, put_count=1542 evicted_count=1000 eviction_rate=0.648508 and unsatisfied allocation rate=0.724865
2018-11-18 17:28:39.049558: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 372 to 409
2018-11-18 17:28:42.273606: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 3698 get requests, put_count=2926 evicted_count=1000 eviction_rate=0.341763 and unsatisfied allocation rate=0.498648
2018-11-18 17:28:42.273642: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 792 to 871
epoch=0 step: 2500 loss 0.28230956 processed: [0.1]
epoch=0 step: 5000 loss 0.43664384 processed: [0.2]
epoch=0 step: 7500 loss 0.35714284 processed: [0.3]
epoch=0 step: 10000 loss 0.4898914 processed: [0.4]
epoch=0 step: 12500 loss 0.3247543 processed: [0.5]
epoch=0 step: 15000 loss 0.31351495 processed: [0.6]
epoch=0 step: 17500 loss 0.26847988 processed: [0.7]
epoch=0 step: 20000 loss 0.45500255 processed: [0.8]
epoch=0 step: 22500 loss 0.3538413 processed: [0.9]
epoch=0 step: 25000 loss 0.29004282 processed: [1.0]
starting shuffle train data
finish building train data
epoch=1 step: 27500 loss 0.30780068 processed: [1.1]
epoch=1 step: 30000 loss 0.26213175 processed: [1.2]
epoch=1 step: 32500 loss 0.2964316 processed: [1.3]
epoch=1 step: 35000 loss 0.35508758 processed: [1.4]
epoch=1 step: 37500 loss 0.387226 processed: [1.5]
epoch=1 step: 40000 loss 0.20081326 processed: [1.6]
epoch=1 step: 42500 loss 0.27465445 processed: [1.7]
epoch=1 step: 45000 loss 0.34241635 processed: [1.8]
epoch=1 step: 47500 loss 0.48952824 processed: [1.9]
epoch=1 step: 50000 loss 0.21913137 processed: [2.0]
0.22070947
epoch=1 save model
2018-11-18 22:44:59
starting shuffle train data
finish building train data
epoch=2 step: 52500 loss 0.18822345 processed: [2.1]
epoch=2 step: 55000 loss 0.15276091 processed: [2.2]
epoch=2 step: 57500 loss 0.25125137 processed: [2.3]
epoch=2 step: 60000 loss 0.33076048 processed: [2.4]
epoch=2 step: 62500 loss 0.31098777 processed: [2.5]
epoch=2 step: 65000 loss 0.31662145 processed: [2.6]
epoch=2 step: 67500 loss 0.25450185 processed: [2.7]
epoch=2 step: 70000 loss 0.16584387 processed: [2.8]
epoch=2 step: 72500 loss 0.19395489 processed: [2.9]
epoch=2 step: 75000 loss 0.34879225 processed: [3.0]
0.35354167
epoch=2 save model
2018-11-19 01:22:46
starting shuffle train data
finish building train data
epoch=3 step: 77500 loss 0.24818581 processed: [3.1]
epoch=3 step: 80000 loss 0.12518074 processed: [3.2]
epoch=3 step: 82500 loss 0.19931656 processed: [3.3]
epoch=3 step: 85000 loss 0.11345331 processed: [3.4]
epoch=3 step: 87500 loss 0.25936118 processed: [3.5]
epoch=3 step: 90000 loss 0.17682989 processed: [3.6]
epoch=3 step: 92500 loss 0.20324516 processed: [3.7]
epoch=3 step: 95000 loss 0.34911582 processed: [3.8]
epoch=3 step: 97500 loss 0.2207497 processed: [3.9]
epoch=3 step: 100000 loss 0.40819794 processed: [4.0]
0.40858227
epoch=3 save model
2018-11-19 03:59:50
starting shuffle train data
finish building train data
epoch=4 step: 102500 loss 0.26160866 processed: [4.1]
epoch=4 step: 105000 loss 0.1255726 processed: [4.2]
epoch=4 step: 107500 loss 0.18869922 processed: [4.3]
epoch=4 step: 110000 loss 0.24278457 processed: [4.4]
epoch=4 step: 112500 loss 0.08588344 processed: [4.5]
epoch=4 step: 115000 loss 0.16321397 processed: [4.6]
epoch=4 step: 117500 loss 0.22402048 processed: [4.7]
epoch=4 step: 120000 loss 0.20154548 processed: [4.8]
epoch=4 step: 122500 loss 0.21121475 processed: [4.9]
epoch=4 step: 125000 loss 0.16881463 processed: [5.0]
0.17357524
epoch=4 save model
2018-11-19 06:36:36
starting shuffle train data
finish building train data
epoch=5 step: 127500 loss 0.103006005 processed: [5.1]
epoch=5 step: 130000 loss 0.11145923 processed: [5.2]
epoch=5 step: 132500 loss 0.06820721 processed: [5.3]
epoch=5 step: 135000 loss 0.22524463 processed: [5.4]
epoch=5 step: 137500 loss 0.1132019 processed: [5.5]
epoch=5 step: 140000 loss 0.16699032 processed: [5.6]
epoch=5 step: 142500 loss 0.107354775 processed: [5.7]
epoch=5 step: 145000 loss 0.12160259 processed: [5.8]
epoch=5 step: 147500 loss 0.16508429 processed: [5.9]
epoch=5 step: 150000 loss 0.1321983 processed: [6.0]
0.1341974
epoch=5 save model
2018-11-19 09:13:06
train time:15.8125 h
beging test starting loading data
2018-11-19 09:13:09
finish loading data
finish building test batches
2018-11-19 09:15:44
2018-11-19 09:15:44.784300: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)
sucess init Gcnn_v3_model/version2/ model.6
total num: 664
MAP: 0.544033562443
MRR: 0.589925774527
P@1: 0.405120481928
('R10_1:', 0.2403100497227002)
('R10_2', 0.40659901510805113)
('R10_5', 0.7623948173646972)
test time:0.0485 h
