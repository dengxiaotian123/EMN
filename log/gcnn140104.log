nohup: 忽略输入
starting loading data
2019-01-05 08:54:04
finish loading data
2019-01-05 08:56:41
batch_num 15625
configurations {'data_path': '../../data/douban/data.pkl', 'word_layers_itg': 2, 'evaluate_step': 15625, 'filter_size': 8, 'filter_h': 3, 'train_steps': 78125, 'emb_train': False, 'CPU': '/cpu:0', 'embedding_file': '../../data/douban/word_embedding.pkl', 'hidden_embedding_dim': 200, 'epoch': 5, 'lr': 0.001, 'save_path': 'Gcnn_v14_test/version/', 'word_layers_enc': 2, 'print_step': 1562, '_EOS_': 1, 'word_embedding_dim': 200, 'batch_size': 64, 'max_turn_num': 10, 'final_n_class': 1, 'word_layers_agg': 2, 'max_turn_len': 50, 'output_path': 'Gcnn_v14_output/version/', 'init_model': 'Gcnn_v14_model/version/'}
2019-01-05 08:56:41.466233: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2019-01-05 08:56:41.466249: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2019-01-05 08:56:41.466253: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2019-01-05 08:56:41.466256: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2019-01-05 08:56:41.466259: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2019-01-05 08:56:41.581288: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2019-01-05 08:56:41.581736: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: GeForce GTX 1070
major: 6 minor: 1 memoryClockRate (GHz) 1.683
pciBusID 0000:01:00.0
Total memory: 7.92GiB
Free memory: 7.80GiB
2019-01-05 08:56:41.581747: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 
2019-01-05 08:56:41.581751: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y 
2019-01-05 08:56:41.581757: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:01:00.0)
starting shuffle train data
finish building train data
2019-01-05 08:58:08.373593: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2445 get requests, put_count=1455 evicted_count=1000 eviction_rate=0.687285 and unsatisfied allocation rate=0.854806
2019-01-05 08:58:08.373622: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 100 to 110
2019-01-05 08:58:10.999274: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 0 get requests, put_count=1019 evicted_count=1000 eviction_rate=0.981354 and unsatisfied allocation rate=0
2019-01-05 08:58:13.976996: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2444 get requests, put_count=2725 evicted_count=2000 eviction_rate=0.733945 and unsatisfied allocation rate=0.71563
2019-01-05 08:58:13.977055: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 339 to 372
2019-01-05 08:58:17.056298: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2445 get requests, put_count=3037 evicted_count=2000 eviction_rate=0.658545 and unsatisfied allocation rate=0.597955
2019-01-05 08:58:17.056338: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 596 to 655
2019-01-05 08:58:22.122760: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 4893 get requests, put_count=4640 evicted_count=1000 eviction_rate=0.215517 and unsatisfied allocation rate=0.282036
2019-01-05 08:58:22.122803: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 1400 to 1540
epoch=1 step: 1562 loss 0.40311474 processed: [0.099968] gs 1562 learning_rate 0.0008847359
epoch=1 step: 3124 loss 0.40546453 processed: [0.199936] gs 3124 learning_rate 0.00078275765
epoch=1 step: 4686 loss 0.4014034 processed: [0.299904] gs 4686 learning_rate 0.0006925339
epoch=1 step: 6248 loss 0.35897762 processed: [0.399872] gs 6248 learning_rate 0.0006127096
epoch=1 step: 7810 loss 0.37601787 processed: [0.49984] gs 7810 learning_rate 0.0005420862
epoch=1 step: 9372 loss 0.41050282 processed: [0.599808] gs 9372 learning_rate 0.0004796032
epoch=1 step: 10934 loss 0.35024744 processed: [0.699776] gs 10934 learning_rate 0.00042432215
epoch=1 step: 12496 loss 0.30175722 processed: [0.799744] gs 12496 learning_rate 0.00037541304
epoch=1 step: 14058 loss 0.31115884 processed: [0.899712] gs 14058 learning_rate 0.00031885577
epoch=1 step: 15620 loss 0.28212643 processed: [0.99968] gs 15620 learning_rate 0.00028210317
total num: 665
MAP: 0.536318875183
MRR: 0.582054541115
P@1: 0.398496240602
('R10_1:', 0.2315025659386561)
('R10_2', 0.4071404702231768)
('R10_5', 0.756808688387636)
('ave:', 0.4853868969081179)
save evaluate_step: 1
2019-01-05 11:14:35
starting shuffle train data
finish building train data
epoch=2 step: 17182 loss 0.2694913 processed: [1.099648] gs 17182 learning_rate 0.0002495868
epoch=2 step: 18744 loss 0.3076318 processed: [1.199616] gs 18744 learning_rate 0.00022081842
epoch=2 step: 20306 loss 0.23756374 processed: [1.299584] gs 20306 learning_rate 0.00019536598
epoch=2 step: 21868 loss 0.24961294 processed: [1.399552] gs 21868 learning_rate 0.00017284731
epoch=2 step: 23430 loss 0.39501813 processed: [1.49952] gs 23430 learning_rate 0.00015292423
epoch=2 step: 24992 loss 0.31589144 processed: [1.599488] gs 24992 learning_rate 0.00013529755
epoch=2 step: 26554 loss 0.310257 processed: [1.699456] gs 26554 learning_rate 0.0001149145
epoch=2 step: 28116 loss 0.21781948 processed: [1.799424] gs 28116 learning_rate 0.000101669
epoch=2 step: 29678 loss 0.29200912 processed: [1.899392] gs 29678 learning_rate 8.995021e-05
epoch=2 step: 31240 loss 0.2742775 processed: [1.99936] gs 31240 learning_rate 7.958218e-05
total num: 665
MAP: 0.543471638043
MRR: 0.587856546127
P@1: 0.409022556391
('R10_1:', 0.23972311731710225)
('R10_2', 0.415486334884831)
('R10_5', 0.7541413056450653)
('ave:', 0.4916169164012955)
save evaluate_step: 2
2019-01-05 13:32:39
starting shuffle train data
finish building train data
epoch=3 step: 32802 loss 0.22582887 processed: [2.099328] gs 32802 learning_rate 7.0409216e-05
epoch=3 step: 34364 loss 0.28001046 processed: [2.199296] gs 34364 learning_rate 6.229357e-05
epoch=3 step: 35926 loss 0.36125442 processed: [2.299264] gs 35926 learning_rate 5.5113356e-05
epoch=3 step: 37488 loss 0.32028314 processed: [2.399232] gs 37488 learning_rate 4.8760765e-05
epoch=3 step: 39050 loss 0.27094722 processed: [2.4992] gs 39050 learning_rate 4.1414787e-05
epoch=3 step: 40612 loss 0.23608315 processed: [2.599168] gs 40612 learning_rate 3.6641148e-05
epoch=3 step: 42174 loss 0.25547135 processed: [2.699136] gs 42174 learning_rate 3.2417745e-05
epoch=3 step: 43736 loss 0.36741844 processed: [2.799104] gs 43736 learning_rate 2.8681141e-05
epoch=3 step: 45298 loss 0.38181794 processed: [2.899072] gs 45298 learning_rate 2.5375239e-05
epoch=3 step: 46860 loss 0.2224045 processed: [2.99904] gs 46860 learning_rate 2.2450386e-05
total num: 665
MAP: 0.541937517878
MRR: 0.588471774675
P@1: 0.407518796992
('R10_1:', 0.238469984485022)
('R10_2', 0.4194963599474877)
('R10_5', 0.7606325337152409)
('ave:', 0.49275449461553844)
save evaluate_step: 3
2019-01-05 15:51:12
0.3415321
epoch=2 save model
2019-01-05 15:51:14
starting shuffle train data
finish building train data
epoch=4 step: 48422 loss 0.36866552 processed: [3.099008] gs 48422 learning_rate 1.9862662e-05
epoch=4 step: 49984 loss 0.24364343 processed: [3.198976] gs 49984 learning_rate 1.7573211e-05
epoch=4 step: 51546 loss 0.28028086 processed: [3.298944] gs 51546 learning_rate 1.4925744e-05
epoch=4 step: 53108 loss 0.27775347 processed: [3.398912] gs 53108 learning_rate 1.3205343e-05
epoch=4 step: 54670 loss 0.21641573 processed: [3.49888] gs 54670 learning_rate 1.1683241e-05
epoch=4 step: 56232 loss 0.35195494 processed: [3.598848] gs 56232 learning_rate 1.0336584e-05
epoch=4 step: 57794 loss 0.35118604 processed: [3.698816] gs 57794 learning_rate 9.145147e-06
epoch=4 step: 59356 loss 0.22466268 processed: [3.798784] gs 59356 learning_rate 8.09104e-06
epoch=4 step: 60918 loss 0.31833535 processed: [3.898752] gs 60918 learning_rate 7.158434e-06
epoch=4 step: 62480 loss 0.32058787 processed: [3.99872] gs 62480 learning_rate 6.333324e-06
total num: 665
MAP: 0.547632878729
MRR: 0.594719536938
P@1: 0.416541353383
('R10_1:', 0.24548752834467114)
('R10_2', 0.4237570115765603)
('R10_5', 0.7598806540159928)
('ave:', 0.49800316049793153)
save evaluate_step: 4
2019-01-05 18:09:33
0.38626814
epoch=3 save model
2019-01-05 18:09:34
starting shuffle train data
finish building train data
epoch=5 step: 64042 loss 0.22647609 processed: [4.098688] gs 64042 learning_rate 5.379187e-06
epoch=5 step: 65604 loss 0.38378572 processed: [4.198656] gs 65604 learning_rate 4.75916e-06
epoch=5 step: 67166 loss 0.28951746 processed: [4.298624] gs 67166 learning_rate 4.2105994e-06
epoch=5 step: 68728 loss 0.31100336 processed: [4.398592] gs 68728 learning_rate 3.7252687e-06
epoch=5 step: 70290 loss 0.22302662 processed: [4.49856] gs 70290 learning_rate 3.295879e-06
epoch=5 step: 71852 loss 0.2985172 processed: [4.598528] gs 71852 learning_rate 2.9159826e-06
epoch=5 step: 73414 loss 0.33436084 processed: [4.698496] gs 73414 learning_rate 2.579875e-06
epoch=5 step: 74976 loss 0.2754465 processed: [4.798464] gs 74976 learning_rate 2.282508e-06
epoch=5 step: 76538 loss 0.2546692 processed: [4.898432] gs 76538 learning_rate 1.93864e-06
epoch=5 step: 78100 loss 0.20681685 processed: [4.9984] gs 78100 learning_rate 1.7151845e-06
total num: 665
MAP: 0.546369362797
MRR: 0.593369137129
P@1: 0.415037593985
('R10_1:', 0.2447857739587062)
('R10_2', 0.4210001193459839)
('R10_5', 0.7593794008831607)
('ave:', 0.4966568980163307)
save evaluate_step: 5
2019-01-05 20:28:16
0.2935804
epoch=4 save model
2019-01-05 20:28:17
train time:11.5705 h
