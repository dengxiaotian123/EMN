nohup: 忽略输入
starting loading data
2018-11-18 17:02:34
finish loading data
2018-11-18 17:05:09
batch_num 15625
configurations {'data_path': '../../data/douban/data.pkl', 'word_layers_itg': 4, 'evaluate_step': 15625, 'filter_size': 3, 'filter_h': 3, 'train_steps': 93750, 'emb_train': False, 'CPU': '/cpu:0', 'embedding_file': '../../data/douban/word_embedding.pkl', 'hidden_embedding_dim': 200, 'epoch': 6, 'print_step': 1562, 'save_path': 'Gcnn_v3_test/version3/', 'word_layers_enc': 2, '_EOS_': 1, 'word_embedding_dim': 200, 'batch_size': 64, 'max_turn_num': 9, 'final_n_class': 1, 'word_layers_agg': 2, 'max_turn_len': 50, 'output_path': 'Gcnn_v3_output/version3/', 'init_model': 'Gcnn_v3_model/version3/'}
2018-11-18 17:05:11.429200: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:05:11.429217: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:05:11.429221: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:05:11.429224: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:05:11.429227: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2018-11-18 17:05:11.536515: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:893] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-11-18 17:05:11.536949: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: GeForce GTX 1070
major: 6 minor: 1 memoryClockRate (GHz) 1.683
pciBusID 0000:02:00.0
Total memory: 7.92GiB
Free memory: 7.83GiB
2018-11-18 17:05:11.536960: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 
2018-11-18 17:05:11.536978: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y 
2018-11-18 17:05:11.536984: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:02:00.0)
starting shuffle train data
finish building train data
2018-11-18 17:06:36.684365: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2126 get requests, put_count=1330 evicted_count=1000 eviction_rate=0.75188 and unsatisfied allocation rate=0.891816
2018-11-18 17:06:36.684392: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 100 to 110
2018-11-18 17:06:38.363072: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2129 get requests, put_count=2424 evicted_count=2000 eviction_rate=0.825083 and unsatisfied allocation rate=0.808361
2018-11-18 17:06:38.363118: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 176 to 193
2018-11-18 17:06:39.984083: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2127 get requests, put_count=2567 evicted_count=2000 eviction_rate=0.77912 and unsatisfied allocation rate=0.746591
2018-11-18 17:06:39.984141: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 309 to 339
2018-11-18 17:06:41.877666: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 2128 get requests, put_count=1882 evicted_count=1000 eviction_rate=0.53135 and unsatisfied allocation rate=0.610902
2018-11-18 17:06:41.877708: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 596 to 655
2018-11-18 17:06:45.153606: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:247] PoolAllocator: After 4252 get requests, put_count=4382 evicted_count=1000 eviction_rate=0.228206 and unsatisfied allocation rate=0.234478
2018-11-18 17:06:45.153639: I tensorflow/core/common_runtime/gpu/pool_allocator.cc:259] Raising pool_size_limit_ from 1400 to 1540
epoch=0 step: 1562 loss 0.34218943 processed: [0.099968]
epoch=0 step: 3124 loss 0.43632978 processed: [0.199936]
epoch=0 step: 4686 loss 0.22827545 processed: [0.299904]
epoch=0 step: 6248 loss 0.3369527 processed: [0.399872]
epoch=0 step: 7810 loss 0.4316898 processed: [0.49984]
epoch=0 step: 9372 loss 0.39379787 processed: [0.599808]
epoch=0 step: 10934 loss 0.28639424 processed: [0.699776]
epoch=0 step: 12496 loss 0.37179652 processed: [0.799744]
epoch=0 step: 14058 loss 0.26712912 processed: [0.899712]
epoch=0 step: 15620 loss 0.38016722 processed: [0.99968]
starting shuffle train data
finish building train data
epoch=1 step: 17182 loss 0.3882131 processed: [1.099648]
epoch=1 step: 18744 loss 0.3603397 processed: [1.199616]
epoch=1 step: 20306 loss 0.30482495 processed: [1.299584]
epoch=1 step: 21868 loss 0.3224643 processed: [1.399552]
epoch=1 step: 23430 loss 0.4343307 processed: [1.49952]
epoch=1 step: 24992 loss 0.31363815 processed: [1.599488]
epoch=1 step: 26554 loss 0.2088394 processed: [1.699456]
epoch=1 step: 28116 loss 0.32777038 processed: [1.799424]
epoch=1 step: 29678 loss 0.3294397 processed: [1.899392]
epoch=1 step: 31240 loss 0.24877942 processed: [1.99936]
0.30316713
epoch=1 save model
2018-11-18 19:33:01
starting shuffle train data
finish building train data
epoch=2 step: 32802 loss 0.2304979 processed: [2.099328]
epoch=2 step: 34364 loss 0.17192127 processed: [2.199296]
epoch=2 step: 35926 loss 0.3609837 processed: [2.299264]
epoch=2 step: 37488 loss 0.29942822 processed: [2.399232]
epoch=2 step: 39050 loss 0.2923765 processed: [2.4992]
epoch=2 step: 40612 loss 0.35818422 processed: [2.599168]
epoch=2 step: 42174 loss 0.253074 processed: [2.699136]
epoch=2 step: 43736 loss 0.21438149 processed: [2.799104]
epoch=2 step: 45298 loss 0.3089339 processed: [2.899072]
epoch=2 step: 46860 loss 0.21306735 processed: [2.99904]
0.31275323
epoch=2 save model
2018-11-18 20:46:28
starting shuffle train data
finish building train data
epoch=3 step: 48422 loss 0.3286024 processed: [3.099008]
epoch=3 step: 49984 loss 0.22168534 processed: [3.198976]
epoch=3 step: 51546 loss 0.24130222 processed: [3.298944]
epoch=3 step: 53108 loss 0.21521935 processed: [3.398912]
epoch=3 step: 54670 loss 0.17121091 processed: [3.49888]
epoch=3 step: 56232 loss 0.23401746 processed: [3.598848]
epoch=3 step: 57794 loss 0.23711456 processed: [3.698816]
epoch=3 step: 59356 loss 0.29383552 processed: [3.798784]
epoch=3 step: 60918 loss 0.15712464 processed: [3.898752]
epoch=3 step: 62480 loss 0.2400204 processed: [3.99872]
0.20257701
epoch=3 save model
2018-11-18 21:59:48
starting shuffle train data
finish building train data
epoch=4 step: 64042 loss 0.2196871 processed: [4.098688]
epoch=4 step: 65604 loss 0.22931662 processed: [4.198656]
epoch=4 step: 67166 loss 0.19342135 processed: [4.298624]
epoch=4 step: 68728 loss 0.20555642 processed: [4.398592]
epoch=4 step: 70290 loss 0.25783762 processed: [4.49856]
epoch=4 step: 71852 loss 0.2669106 processed: [4.598528]
epoch=4 step: 73414 loss 0.30121094 processed: [4.698496]
epoch=4 step: 74976 loss 0.26220858 processed: [4.798464]
epoch=4 step: 76538 loss 0.2079533 processed: [4.898432]
epoch=4 step: 78100 loss 0.18240686 processed: [4.9984]
0.29533136
epoch=4 save model
2018-11-18 23:13:12
starting shuffle train data
finish building train data
epoch=5 step: 79662 loss 0.22743642 processed: [5.098368]
epoch=5 step: 81224 loss 0.27912578 processed: [5.198336]
epoch=5 step: 82786 loss 0.33798665 processed: [5.298304]
epoch=5 step: 84348 loss 0.19115297 processed: [5.398272]
epoch=5 step: 85910 loss 0.26583606 processed: [5.49824]
epoch=5 step: 87472 loss 0.18919478 processed: [5.598208]
epoch=5 step: 89034 loss 0.15953441 processed: [5.698176]
epoch=5 step: 90596 loss 0.30259058 processed: [5.798144]
epoch=5 step: 92158 loss 0.15507227 processed: [5.898112]
epoch=5 step: 93720 loss 0.23943645 processed: [5.99808]
0.18118955
epoch=5 save model
2018-11-19 00:26:32
train time:7.3995 h
beging test starting loading data
2018-11-19 00:26:35
finish loading data
finish building test batches
2018-11-19 00:29:09
2018-11-19 00:29:09.123646: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1070, pci bus id: 0000:02:00.0)
sucess init Gcnn_v3_model/version3/ model.5
total num: 665
MAP: 0.536449391383
MRR: 0.577879818594
P@1: 0.383458646617
('R10_1:', 0.2240088316028166)
('R10_2', 0.40928153717627375)
('R10_5', 0.7714237975892112)
test time:0.0453 h
